let current = 0;
let score = 0;
let activeCategory = "";
let activeQuestions = [];

const data = {
  jinn: {
    title: "ЁЯз┐ ржЬрзНржмрзАржирзЗрж░ ржЖржЫрж░",
    questions: [
      "рж╣ржарж╛рзО ржЕржХрж╛рж░ржгрзЗ ржнрзЯ ржЕржирзБржнржм ржХрж░рзЗржи?",
      "ржХрзЗржЙ ржпрзЗржи ржирж╛ржо ржзрж░рзЗ ржбрж╛ржХржЫрзЗ ржПржоржи рж╢рзБржирзЗржЫрзЗржи?",
      "ржШрзБржорзЗрж░ ржоржзрзНржпрзЗ ржЪрзЗржкрзЗ ржзрж░рж╛рж░ ржЕржирзБржнрзВрждрж┐ рж╣рзЯ?",
      "ржХрзБрж░ржЖржи рж╢рзБржирж▓рзЗ ржЕрж╕рзНржмрж╕рзНрждрж┐ рж▓рж╛ржЧрзЗ?",
      "ржЗржмрж╛ржжрждрзЗрж░ рж╕ржорзЯ ржЕрж╕рзНржмрж╛ржнрж╛ржмрж┐ржХ ржХрзНрж▓рж╛ржирзНрждрж┐ ржЖрж╕рзЗ?",
      "ржЕржХрж╛рж░ржгрзЗ ржЦрзБржм рж░рж╛ржЧ рж╣рзЯ?",
      "рж░рж╛рждрзЗ ржЕржХрж╛рж░ржгрзЗ ржШрзБржо ржнрзЗржЩрзЗ ржпрж╛рзЯ?",
      "ржжрзБржГрж╕рзНржмржкрзНржи ржирж┐рзЯржорж┐ржд ржжрзЗржЦрж╛ ржпрж╛рзЯ?",
      "ржЕржирзНржзржХрж╛рж░рзЗ ржХрж┐ржЫрзБ ржжрзЗржЦрж╛рж░ ржЕржирзБржнрзВрждрж┐ рж╣рзЯ?",
      "рж╣ржарж╛рзО ржмрзБржХ ржзрзЬржлрзЬ ржХрж░рзЗ?",
      "ржирж┐ржЬрзЗржХрзЗ ржПржХрж╛ ржоржирзЗ рж╣рзЯ?",
      "ржирж╛ржорж╛ржЬрзЗ ржоржирзЛржпрзЛржЧ рж░рж╛ржЦрждрзЗ ржХрж╖рзНржЯ рж╣рзЯ?",
      "ржЕржХрж╛рж░ржгрзЗ ржХрж╛ржирзНржирж╛ ржЖрж╕рзЗ?",
      "рж╢рж░рзАрж░ ржнрж╛рж░рзА рж▓рж╛ржЧрзЗ?",
      "ржорж╛ржерж╛рж░ ржкрзЗржЫржирзЗ ржмрзНржпржерж╛ ржерж╛ржХрзЗ?",
      "ржкрж┐ржарзЗрж░ ржорж╛ржЭржЦрж╛ржирзЗ ржмрзНржпржерж╛ ржЕржирзБржнржм ржХрж░рзЗржи?",
      "ржШрзБржо ржерзЗржХрзЗ ржЙржарждрзЗ ржХрж╖рзНржЯ рж╣рзЯ?",
      "ржХрзЛржирзЛ ржЕржжрзГрж╢рзНржп ржЙржкрж╕рзНржерж┐рждрж┐ ржЕржирзБржнржм рж╣рзЯ?",
      "ржирж┐ржЬрзЗрж░ ржЙржкрж░ ржирж┐рзЯржирзНрждрзНрж░ржг ржирзЗржЗ ржоржирзЗ рж╣рзЯ?",
      "рж╣ржарж╛рзО ржарж╛ржирзНржбрж╛ ржмрж╛ ржЧрж░ржо рж▓рж╛ржЧрзЗ?",
      "рж░рж╛рждрзЗ ржнрзЯ ржмрзЗрж╢рж┐ рж▓рж╛ржЧрзЗ?",
      "ржЗржмрж╛ржжржд ржХрж░рждрзЗ ржЕржирзАрж╣рж╛ ржЖрж╕рзЗ?",
      "ржЕржХрж╛рж░ржгрзЗ рж╕ржирзНржжрзЗрж╣ рж╣рзЯ?",
      "ржХрзБрж░ржЖржи рждрж┐рж▓рж╛ржУрзЯрж╛ржд ржПрзЬрж┐рзЯрзЗ ржЪрж▓рзЗржи?",
      "ржХрж╛ржи ржЭрж╛ржБ ржЭрж╛ржБ ржХрж░рзЗ?",
      "ржирж┐ржЬрзЗрж░ ржоржзрзНржпрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржоржирзЗ рж╣рзЯ?",
      "ржШрзБржорзЗ ржХржерж╛ ржмрж▓рзЗржи?",
      "ржЕржХрж╛рж░ржгрзЗ рж╢рж░рзАрж░ ржмрзНржпржерж╛ ржХрж░рзЗ?",
      "ржПржХрж╛ржХрзАрждрзНржм ржкржЫржирзНржж ржХрж░рзЗржи?",
      "ржЕржХрж╛рж░ржгрзЗ ржжрзБрж░рзНржмрж▓ ржоржирзЗ рж╣рзЯ?"
    ]
  },

  nazar: {
    title: "ЁЯСБя╕П ржмржж ржиржЬрж░",
    questions: [
      "рж╣ржарж╛рзО рж╢рж░рзАрж░ ржжрзБрж░рзНржмрж▓ рж╣рзЯрзЗ ржпрж╛рзЯ?",
      "ржХрж╛ржЬ рж╢рзБрж░рзБ ржХрж░рж▓рзЗржЗ ржирж╖рзНржЯ рж╣рзЯрзЗ ржпрж╛рзЯ?",
      "рж╕ржм ржХрж┐ржЫрзБ ржнрж╛рж▓рзЛ ржЪрж▓ржЫрж┐рж▓ рж╣ржарж╛рзО ржЦрж╛рж░рж╛ржк рж╣рзЯрзЗ ржпрж╛рзЯ?",
      "ржорж╛ржирзБрж╖рзЗрж░ ржкрзНрж░рж╢ржВрж╕рж╛рж░ ржкрж░ рж╕ржорж╕рзНржпрж╛ рж╢рзБрж░рзБ рж╣рзЯ?",
      "ржкрж░рж┐ржмрж╛рж░рзЗ рж╣ржарж╛рзО ржЕрж╢рж╛ржирзНрждрж┐ ржЖрж╕рзЗ?"
    ]
  },

  waswasa: {
    title: "ЁЯза ржУрзЯрж╛рж╕ржУрзЯрж╛рж╕рж╛",
    questions: [
      "ржПржХржЗ ржЦрж╛рж░рж╛ржк ржЪрж┐ржирзНрждрж╛ ржмрж╛рж░ржмрж╛рж░ ржЖрж╕рзЗ?",
      "ржЗржмрж╛ржжрждрзЗрж░ рж╕ржорзЯ ржЕржкрзНрж░рж╛рж╕ржЩрзНржЧрж┐ржХ ржЪрж┐ржирзНрждрж╛ ржЖрж╕рзЗ?",
      "ржЕржХрж╛рж░ржгрзЗ рж╕ржирзНржжрзЗрж╣ рждрзИрж░рж┐ рж╣рзЯ?",
      "ржирж╛ржорж╛ржЬ ржнрзЗржЩрзЗ ржлрзЗрж▓рждрзЗ ржЗржЪрзНржЫрзЗ ржХрж░рзЗ?",
      "ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржнрзЯ ржХрж╛ржЬ ржХрж░рзЗ?"
    ]
  }
};

function startQuiz(category) {
  activeCategory = category;
  activeQuestions = data[category].questions;
  current = 0;
  score = 0;

  document.getElementById("categoryScreen").classList.add("d-none");
  document.getElementById("quizScreen").classList.remove("d-none");
  document.getElementById("categoryTitle").innerText = data[category].title;

  loadQuestion();
}

function loadQuestion() {
  document.getElementById("questionText").innerText = activeQuestions[current];
  document.getElementById("progress").innerText =
    `${current + 1} / ${activeQuestions.length}`;
}

function answer(value) {
  score += value;

  setTimeout(() => {
    current++;
    if (current < activeQuestions.length) {
      loadQuestion();
    } else {
      showResult();
    }
  }, 180);
}

function showResult() {
  const percent = (score / (activeQuestions.length * 100)) * 100;

  document.getElementById("quizScreen").innerHTML = `
    <div class="text-center">
      <h4>${data[activeCategory].title}</h4>
      <p class="mt-2">рж╕ржорзНржнрж╛ржмрзНржп ржкрзНрж░ржнрж╛ржм</p>
      <h2 class="text-info">${percent.toFixed(0)}%</h2>
      <hr>
      ${
        percent >= 50
          ? `<p class="text-warning">
              тЪая╕П ржПржХржЬржи ржмрж┐рж╢рзЗрж╖ржЬрзНржЮ рж░рж╛ржХрзАрж░ ржкрж░рж╛ржорж░рзНрж╢ ржирж┐ржиред<br>
              рж╕рж╛рж▓рж╛ржд ржЖржжрж╛рзЯ ржХрж░рзБржи ржПржмржВ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржЪрж╛ржиред
            </p>`
          : `<p class="text-success">
              ЁЯЯв ржирж┐рзЯржорж┐ржд ржпрж┐ржХрж░ ржУ ржЗржмрж╛ржжржд ржЪрж╛рж▓рзБ рж░рж╛ржЦрзБржиред
            </p>`
      }
      <p class="disclaimer mt-3">ржПржЯрж┐ ржЪрзВрзЬрж╛ржирзНржд рж╕рж┐ржжрзНржзрж╛ржирзНржд ржирзЯ</p>
    </div>
  `;
}
